

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>gt4sd.algorithms.conditional_generation.regression_transformer.implementation module &mdash; gt4sd  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="gt4sd.algorithms.conditional_generation.reinvent package" href="gt4sd.algorithms.conditional_generation.reinvent.html" />
    <link rel="prev" title="gt4sd.algorithms.conditional_generation.regression_transformer.core module" href="gt4sd.algorithms.conditional_generation.regression_transformer.core.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> gt4sd
          

          
            
            <img src="../_static/gt4sd_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../source/gt4sd_inference_usage_md.html">Examples on how to use the GT4SD algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/gt4sd_algorithm_addition_md.html">Examples on how to add an algorithm to GT4SD</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="gt4sd.html">API of the gt4sd package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gt4sd.configuration.html">gt4sd.configuration module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.conftest.html">gt4sd.conftest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.exceptions.html">gt4sd.exceptions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.s3.html">gt4sd.s3 module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="gt4sd.algorithms.html">gt4sd.algorithms package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.core.html">gt4sd.algorithms.core module</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.registry.html">gt4sd.algorithms.registry module</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.html">gt4sd.algorithms.conditional_generation package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.guacamol.html">gt4sd.algorithms.conditional_generation.guacamol package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.key_bert.html">gt4sd.algorithms.conditional_generation.key_bert package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.paccmann_rl.html">gt4sd.algorithms.conditional_generation.paccmann_rl package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.regression_transformer.html">gt4sd.algorithms.conditional_generation.regression_transformer package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.reinvent.html">gt4sd.algorithms.conditional_generation.reinvent package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.template.html">gt4sd.algorithms.conditional_generation.template package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.tests.html">gt4sd.algorithms.conditional_generation.tests package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.controlled_sampling.html">gt4sd.algorithms.controlled_sampling package</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.generation.html">gt4sd.algorithms.generation package</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.prediction.html">gt4sd.algorithms.prediction package</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.tests.html">gt4sd.algorithms.tests package</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.html#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.cli.html">gt4sd.cli package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.domains.html">gt4sd.domains package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.extras.html">gt4sd.extras package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.frameworks.html">gt4sd.frameworks package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.tests.html">gt4sd.tests package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.training_pipelines.html">gt4sd.training_pipelines package</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gt4sd</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="gt4sd.html">gt4sd package</a> &raquo;</li>
        
          <li><a href="gt4sd.algorithms.html">gt4sd.algorithms package</a> &raquo;</li>
        
          <li><a href="gt4sd.algorithms.conditional_generation.html">gt4sd.algorithms.conditional_generation package</a> &raquo;</li>
        
          <li><a href="gt4sd.algorithms.conditional_generation.regression_transformer.html">gt4sd.algorithms.conditional_generation.regression_transformer package</a> &raquo;</li>
        
      <li>gt4sd.algorithms.conditional_generation.regression_transformer.implementation module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/gt4sd.algorithms.conditional_generation.regression_transformer.implementation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="module-gt4sd.algorithms.conditional_generation.regression_transformer.implementation">
<span id="gt4sd-algorithms-conditional-generation-regression-transformer-implementation-module"></span><h1>gt4sd.algorithms.conditional_generation.regression_transformer.implementation module<a class="headerlink" href="#module-gt4sd.algorithms.conditional_generation.regression_transformer.implementation" title="Permalink to this headline">¶</a></h1>
<p>Implementation of Regression Transformer conditional generators.</p>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Classes:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT" title="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ChemicalLanguageRT</span></code></a></p></td>
<td><p>Hybrid regression and conditional molecular generation model as implemented in <a class="reference external" href="https://arxiv.org/abs/2202.01338">https://arxiv.org/abs/2202.01338</a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator" title="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ConditionalGenerator</span></code></a></p></td>
<td><p>Main interface for a regression transformer.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT" title="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProteinLanguageRT</span></code></a></p></td>
<td><p>Hybrid regression and conditional protein generation model as implemented in <a class="reference external" href="https://arxiv.org/abs/2202.01338">https://arxiv.org/abs/2202.01338</a>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator">
<em class="property">class </em><code class="sig-name descname">ConditionalGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resources_path</span></em>, <em class="sig-param"><span class="n">device</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Main interface for a regression transformer.</p>
<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.task">
<code class="sig-name descname">task</code><em class="property">: str</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.task" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.search">
<code class="sig-name descname">search</code><em class="property">: terminator.search.Search</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.property_collator">
<code class="sig-name descname">property_collator</code><em class="property">: terminator.collators.PropertyCollator</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.property_collator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.tolerance">
<code class="sig-name descname">tolerance</code><em class="property">: float</em><em class="property"> = 20</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.tolerance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.batch_size">
<code class="sig-name descname">batch_size</code><em class="property">: int</em><em class="property"> = 8</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resources_path</span></em>, <em class="sig-param"><span class="n">device</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resources_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – directory where to find models and parameters.</p></li>
<li><p><strong>temperature</strong> – temperature for the sampling. Defaults to 1.4.</p></li>
<li><p><strong>generated_length</strong> – maximum length of the generated molecules.
Defaults to 100.</p></li>
<li><p><strong>samples_per_protein</strong> – number of points sampled per protein.
It has to be greater than 1. Defaults to 10.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – device where the inference is running either as a dedicated class
or a string. If not provided is inferred.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.device">
<code class="sig-name descname">device</code><em class="property">: torch.device</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.device" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.load_model">
<code class="sig-name descname">load_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resources_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.load_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.load_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Loading a XLNetLMHeadModel which constitutes the base of a RT model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resources_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – path to the model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>base of a Regression Transformer model.
XLNetConfig: configuration of the model.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>XLNetLMHeadModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.load_inference">
<code class="sig-name descname">load_inference</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resources_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.load_inference"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.load_inference" title="Permalink to this definition">¶</a></dt>
<dd><p>Load and set up all parameters necessary for inference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resources_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – path to the model folder.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.denormalize">
<code class="sig-name descname">denormalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">precision</span><span class="o">=</span><span class="default_value">4</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.denormalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.denormalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Denormalize from [0,1] scale to original scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – normalized value.</p></li>
<li><p><strong>precision</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – optional rounding precision. Defaults to 4.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Value in regular scale.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.normalize">
<code class="sig-name descname">normalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">precision</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize from original scale to [0,1] scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – unnormalized input.</p></li>
<li><p><strong>precision</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – optional rounding precision.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Normalized value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_input">
<code class="sig-name descname">validate_input</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.validate_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_input" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_input_molecule">
<code class="sig-name descname">validate_input_molecule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequence</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.validate_input_molecule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_input_molecule" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the non-numerical part of the input is a proper sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – input sequence to be validated.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.safely_determine_task">
<code class="sig-name descname">safely_determine_task</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.safely_determine_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.safely_determine_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether the passed sequence adheres to regression or generation task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the user-provided input sequence for the model, inluding mask tokens.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – if the sequence does not adhere to the formatting rules.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the task, either ‘regression’ or ‘generation’.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.generate_batch_regression">
<code class="sig-name descname">generate_batch_regression</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.generate_batch_regression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.generate_batch_regression" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the property of a sample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>context</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a string with a masked property, a separator and an
entity. E.g. &lt;stab&gt;[MASK][MASK][MASK][MASK]|GSQEVNSGTQTYKNASPEEAERIARKAGATTWTEKGNKWEIRI.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of (denormalized) predicted properties for the entity.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Property]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.compile_regression_result">
<code class="sig-name descname">compile_regression_result</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_ids</span></em>, <em class="sig-param"><span class="n">prediction</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.compile_regression_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.compile_regression_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Postprocesses the prediction from the property task to obtain a float.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_ids</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – 2D Tensor of shape (batch_size, sequence_length).</p></li>
<li><p><strong>prediction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – 2D Tensor of shape (batch_size, sequence_length).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of property values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Property]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.generate_batch_generation">
<code class="sig-name descname">generate_batch_generation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequence</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.generate_batch_generation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.generate_batch_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Conditionally generate sequences given a continuous property value and a fixed
sequence. This function first conditionally generates the novel sequences and
then predicts their properties using the RT again. Only if the predicted
property is within the tolerance range, the novel sequence is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the input sequence with masked tokens on the text.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>a tuple of tuples, each containing the generated</dt><dd><p>sequence alongside its predicted property value.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[Tuple[str, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.normalize_sequence">
<code class="sig-name descname">normalize_sequence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.normalize_sequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.normalize_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a sequence with a unnormalized property score and convert it to a
sequence with a normalized score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>context</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – sequence with unnormalized property.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sequence with normalized property.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Sequence</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_numerical">
<em class="property">static </em><code class="sig-name descname">validate_numerical</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequences</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.validate_numerical"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_numerical" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate whether a list of sequences contains only numerical values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequences</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]) – a list of hopefully only numerical values.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tuple containing of the validated floats and valid indexes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__annotations__">
<code class="sig-name descname">__annotations__</code><em class="property"> = {'batch_size': &lt;class 'int'&gt;, 'device': &lt;class 'torch.device'&gt;, 'property_collator': &lt;class 'terminator.collators.PropertyCollator'&gt;, 'search': &lt;class 'terminator.search.Search'&gt;, 'task': &lt;class 'str'&gt;, 'tolerance': &lt;class 'float'&gt;}</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__annotations__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__dict__">
<code class="sig-name descname">__dict__</code><em class="property"> = mappingproxy({'__module__': 'gt4sd.algorithms.conditional_generation.regression_transformer.implementation', '__annotations__': {'device': &lt;class 'torch.device'&gt;, 'task': &lt;class 'str'&gt;, 'search': &lt;class 'terminator.search.Search'&gt;, 'property_collator': &lt;class 'terminator.collators.PropertyCollator'&gt;, 'tolerance': &lt;class 'float'&gt;, 'batch_size': &lt;class 'int'&gt;}, '__doc__': 'Main interface for a regression transformer.', 'tolerance': 20, 'batch_size': 8, '__init__': &lt;function ConditionalGenerator.__init__&gt;, 'load_model': &lt;function ConditionalGenerator.load_model&gt;, 'load_inference': &lt;function ConditionalGenerator.load_inference&gt;, 'denormalize': &lt;function ConditionalGenerator.denormalize&gt;, 'normalize': &lt;function ConditionalGenerator.normalize&gt;, 'validate_input': &lt;function ConditionalGenerator.validate_input&gt;, 'validate_input_molecule': &lt;function ConditionalGenerator.validate_input_molecule&gt;, 'safely_determine_task': &lt;function ConditionalGenerator.safely_determine_task&gt;, 'generate_batch_regression': &lt;function ConditionalGenerator.generate_batch_regression&gt;, 'compile_regression_result': &lt;function ConditionalGenerator.compile_regression_result&gt;, 'generate_batch_generation': &lt;function ConditionalGenerator.generate_batch_generation&gt;, 'normalize_sequence': &lt;function ConditionalGenerator.normalize_sequence&gt;, 'validate_numerical': &lt;staticmethod object&gt;, '__dict__': &lt;attribute '__dict__' of 'ConditionalGenerator' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'ConditionalGenerator' objects&gt;})</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__doc__">
<code class="sig-name descname">__doc__</code><em class="property"> = 'Main interface for a regression transformer.'</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__doc__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'gt4sd.algorithms.conditional_generation.regression_transformer.implementation'</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT">
<em class="property">class </em><code class="sig-name descname">ChemicalLanguageRT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resources_path</span></em>, <em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">search</span><span class="o">=</span><span class="default_value">'sample'</span></em>, <em class="sig-param"><span class="n">temperature</span><span class="o">=</span><span class="default_value">1.4</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">20.0</span></em>, <em class="sig-param"><span class="n">device</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator" title="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator</span></code></a></p>
<p>Hybrid regression and conditional molecular generation model as implemented in
<a class="reference external" href="https://arxiv.org/abs/2202.01338">https://arxiv.org/abs/2202.01338</a>. It generates molecules with a desired solubility
(ESOL) score or predicts the ESOL of a given molecule.
For details on the ESOL task see: <a class="reference external" href="https://pubs.acs.org/doi/10.1021/ci034243x">https://pubs.acs.org/doi/10.1021/ci034243x</a></p>
<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.resources_path">
<code class="sig-name descname">resources_path</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.resources_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path to the model.</p>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.context">
<code class="sig-name descname">context</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.context" title="Permalink to this definition">¶</a></dt>
<dd><p>user-specified input text for the model.</p>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.search">
<code class="sig-name descname">search</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.search" title="Permalink to this definition">¶</a></dt>
<dd><p>search key to instantiate a search via terminator.search.SEARCH_FACTORY.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>terminator.search.Search</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.temperature">
<code class="sig-name descname">temperature</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>the temperature parameter in case of a <cite>sample</cite> search.</p>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.batch_size">
<code class="sig-name descname">batch_size</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>the batch size for the model, applicable only to generative task.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.tolerance">
<code class="sig-name descname">tolerance</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>the tolerance for the property of the generated molecules.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resources_path</span></em>, <em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">search</span><span class="o">=</span><span class="default_value">'sample'</span></em>, <em class="sig-param"><span class="n">temperature</span><span class="o">=</span><span class="default_value">1.4</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">20.0</span></em>, <em class="sig-param"><span class="n">device</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the molecule generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resources_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – directory where to find models and parameters.</p></li>
<li><p><strong>search</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – search key to instantiate a search, defaults to <cite>sample</cite>.</p></li>
<li><p><strong>temperature</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – temperature for the sampling. Defaults to 1.4.</p></li>
<li><p><strong>batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – number of points sampled per call. Defaults to 8.</p></li>
<li><p><strong>tolerance</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – the tolerance for the property of the generated molecules.
Given in percent. Defaults to 20.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – device where the inference s running either as a dedicated class
or a string. If not provided is inferred.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.task">
<code class="sig-name descname">task</code><em class="property">: str</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.task" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="id0">
<code class="sig-name descname">search</code><em class="property">: terminator.search.Search</em><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.property_collator">
<code class="sig-name descname">property_collator</code><em class="property">: terminator.collators.PropertyCollator</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.property_collator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.validate_input_molecule">
<code class="sig-name descname">validate_input_molecule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequence</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT.validate_input_molecule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.validate_input_molecule" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the non-numerical part of the input sequence is a SELFIES.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – input sequence to be validated.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.validate_output">
<code class="sig-name descname">validate_output</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequences</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT.validate_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.validate_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the output of the RT model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequences</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]) – list of sequences to be validated.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A tuple of validated items (Chem.rdchem.Mol in the case of a generation task</dt><dd><p>floating values otherwise) and a list of valid indexes.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__doc__">
<code class="sig-name descname">__doc__</code><em class="property"> = '\n    Hybrid regression and conditional molecular generation model as implemented in\n    https://arxiv.org/abs/2202.01338. It generates molecules with a desired solubility\n    (ESOL) score or predicts the ESOL of a given molecule.\n    For details on the ESOL task see: https://pubs.acs.org/doi/10.1021/ci034243x\n\n    Attributes:\n        resources_path: path to the model.\n        context: user-specified input text for the model.\n        search: search key to instantiate a search via terminator.search.SEARCH_FACTORY.\n        temperature: the temperature parameter in case of a `sample` search.\n        batch_size: the batch size for the model, applicable only to generative task.\n        tolerance: the tolerance for the property of the generated molecules.\n    '</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__doc__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'gt4sd.algorithms.conditional_generation.regression_transformer.implementation'</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.device">
<code class="sig-name descname">device</code><em class="property">: torch.device</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.device" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT">
<em class="property">class </em><code class="sig-name descname">ProteinLanguageRT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resources_path</span></em>, <em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">search</span><span class="o">=</span><span class="default_value">'sample'</span></em>, <em class="sig-param"><span class="n">temperature</span><span class="o">=</span><span class="default_value">1.4</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="o">=</span><span class="default_value">32</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">20.0</span></em>, <em class="sig-param"><span class="n">device</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator" title="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator</span></code></a></p>
<p>Hybrid regression and conditional protein generation model as implemented in
<a class="reference external" href="https://arxiv.org/abs/2202.01338">https://arxiv.org/abs/2202.01338</a>. It generates peptides with a desired stability
score or predicts the stability score of a given molecule.
For details on the stability task see: <a class="reference external" href="https://doi.org/10.1126/science.aan0693">https://doi.org/10.1126/science.aan0693</a></p>
<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.resources_path">
<code class="sig-name descname">resources_path</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.resources_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path to the model.</p>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.context">
<code class="sig-name descname">context</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.context" title="Permalink to this definition">¶</a></dt>
<dd><p>user-specified input text for the model.</p>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.search">
<code class="sig-name descname">search</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.search" title="Permalink to this definition">¶</a></dt>
<dd><p>search key to instantiate a search via terminator.search.SEARCH_FACTORY.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>terminator.search.Search</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.temperature">
<code class="sig-name descname">temperature</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>the temperature parameter in case of a <cite>sample</cite> search.</p>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.batch_size">
<code class="sig-name descname">batch_size</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>the batch size for the model, applicable only to generative task.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.tolerance">
<code class="sig-name descname">tolerance</code><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>the tolerance for the property of the generated molecules.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resources_path</span></em>, <em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">search</span><span class="o">=</span><span class="default_value">'sample'</span></em>, <em class="sig-param"><span class="n">temperature</span><span class="o">=</span><span class="default_value">1.4</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="o">=</span><span class="default_value">32</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">20.0</span></em>, <em class="sig-param"><span class="n">device</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the protein generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resources_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – directory where to find models and parameters.</p></li>
<li><p><strong>search</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – search key to instantiate a search, defaults to <cite>sample</cite>.</p></li>
<li><p><strong>temperature</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – temperature for the sampling. Defaults to 1.4.</p></li>
<li><p><strong>batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – number of points sampled per call. Defaults to 8.</p></li>
<li><p><strong>tolerance</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – the tolerance for the property of the generated molecules.
Given in percent. Defaults to 20.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – device where the inference s running either as a dedicated class
or a string. If not provided is inferred.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.task">
<code class="sig-name descname">task</code><em class="property">: str</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.task" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="id1">
<code class="sig-name descname">search</code><em class="property">: terminator.search.Search</em><a class="headerlink" href="#id1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.property_collator">
<code class="sig-name descname">property_collator</code><em class="property">: terminator.collators.PropertyCollator</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.property_collator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__doc__">
<code class="sig-name descname">__doc__</code><em class="property"> = '\n    Hybrid regression and conditional protein generation model as implemented in\n    https://arxiv.org/abs/2202.01338. It generates peptides with a desired stability\n    score or predicts the stability score of a given molecule.\n    For details on the stability task see: https://doi.org/10.1126/science.aan0693\n\n    Attributes:\n        resources_path: path to the model.\n        context: user-specified input text for the model.\n        search: search key to instantiate a search via terminator.search.SEARCH_FACTORY.\n        temperature: the temperature parameter in case of a `sample` search.\n        batch_size: the batch size for the model, applicable only to generative task.\n        tolerance: the tolerance for the property of the generated molecules.\n    '</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__doc__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'gt4sd.algorithms.conditional_generation.regression_transformer.implementation'</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.device">
<code class="sig-name descname">device</code><em class="property">: torch.device</em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.device" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.validate_input_molecule">
<code class="sig-name descname">validate_input_molecule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequence</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT.validate_input_molecule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.validate_input_molecule" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the non-numerical part of the input sequence is a valid AAS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – input sequence to be validated.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.validate_output">
<code class="sig-name descname">validate_output</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequences</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT.validate_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.validate_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the output of the RT model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequences</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – list of sequences to be validated.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple of validated items and a list of valid indexes.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="gt4sd.algorithms.conditional_generation.reinvent.html" class="btn btn-neutral float-right" title="gt4sd.algorithms.conditional_generation.reinvent package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="gt4sd.algorithms.conditional_generation.regression_transformer.core.html" class="btn btn-neutral float-left" title="gt4sd.algorithms.conditional_generation.regression_transformer.core module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright GT4SD team 2022.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>