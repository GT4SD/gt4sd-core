

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>gt4sd.algorithms.conditional_generation.regression_transformer.implementation module &mdash; gt4sd  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="gt4sd.algorithms.conditional_generation.regression_transformer.utils module" href="gt4sd.algorithms.conditional_generation.regression_transformer.utils.html" />
    <link rel="prev" title="gt4sd.algorithms.conditional_generation.regression_transformer.core module" href="gt4sd.algorithms.conditional_generation.regression_transformer.core.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> gt4sd
          

          
            
            <img src="../_static/gt4sd_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../source/gt4sd_inference_usage_md.html">Examples on how to use the GT4SD algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/gt4sd_algorithm_addition_md.html">Examples on how to add an algorithm to GT4SD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/gt4sd_server_upload_md.html">Examples on how to upload models on a self-hosted minio service using GT4SD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/gt4sd_gfn_usage_md.html">Example on how to use GFlowNet for a generic task using GT4SD</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="gt4sd.html">API of the gt4sd package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gt4sd.configuration.html">gt4sd.configuration module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.conftest.html">gt4sd.conftest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.exceptions.html">gt4sd.exceptions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.s3.html">gt4sd.s3 module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="gt4sd.algorithms.html">gt4sd.algorithms package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.core.html">gt4sd.algorithms.core module</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.registry.html">gt4sd.algorithms.registry module</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.html">gt4sd.algorithms.conditional_generation package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.guacamol.html">gt4sd.algorithms.conditional_generation.guacamol package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.key_bert.html">gt4sd.algorithms.conditional_generation.key_bert package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.molgx.html">gt4sd.algorithms.conditional_generation.molgx package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.paccmann_rl.html">gt4sd.algorithms.conditional_generation.paccmann_rl package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.regression_transformer.html">gt4sd.algorithms.conditional_generation.regression_transformer package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.reinvent.html">gt4sd.algorithms.conditional_generation.reinvent package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.template.html">gt4sd.algorithms.conditional_generation.template package</a></li>
<li class="toctree-l4"><a class="reference internal" href="gt4sd.algorithms.conditional_generation.tests.html">gt4sd.algorithms.conditional_generation.tests package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.controlled_sampling.html">gt4sd.algorithms.controlled_sampling package</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.generation.html">gt4sd.algorithms.generation package</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.prediction.html">gt4sd.algorithms.prediction package</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.tests.html">gt4sd.algorithms.tests package</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="gt4sd.algorithms.html#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.cli.html">gt4sd.cli package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.domains.html">gt4sd.domains package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.extras.html">gt4sd.extras package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.frameworks.html">gt4sd.frameworks package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.properties.html">gt4sd.properties package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.tests.html">gt4sd.tests package</a></li>
<li class="toctree-l2"><a class="reference internal" href="gt4sd.training_pipelines.html">gt4sd.training_pipelines package</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gt4sd</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="gt4sd.html">gt4sd package</a> &raquo;</li>
        
          <li><a href="gt4sd.algorithms.html">gt4sd.algorithms package</a> &raquo;</li>
        
          <li><a href="gt4sd.algorithms.conditional_generation.html">gt4sd.algorithms.conditional_generation package</a> &raquo;</li>
        
          <li><a href="gt4sd.algorithms.conditional_generation.regression_transformer.html">gt4sd.algorithms.conditional_generation.regression_transformer package</a> &raquo;</li>
        
      <li>gt4sd.algorithms.conditional_generation.regression_transformer.implementation module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/gt4sd.algorithms.conditional_generation.regression_transformer.implementation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="module-gt4sd.algorithms.conditional_generation.regression_transformer.implementation">
<span id="gt4sd-algorithms-conditional-generation-regression-transformer-implementation-module"></span><h1>gt4sd.algorithms.conditional_generation.regression_transformer.implementation module<a class="headerlink" href="#module-gt4sd.algorithms.conditional_generation.regression_transformer.implementation" title="Permalink to this heading">¶</a></h1>
<p>Implementation of Regression Transformer conditional generators.</p>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p>Classes:</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT" title="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ChemicalLanguageRT</span></code></a></p></td>
<td><p>Hybrid regression and conditional molecular generation model as implemented in <a class="reference external" href="https://arxiv.org/abs/2202.01338">https://arxiv.org/abs/2202.01338</a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator" title="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ConditionalGenerator</span></code></a></p></td>
<td><p>Main interface for a regression transformer.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT" title="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProteinLanguageRT</span></code></a></p></td>
<td><p>Hybrid regression and conditional protein generation model as implemented in <a class="reference external" href="https://arxiv.org/abs/2202.01338">https://arxiv.org/abs/2202.01338</a>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ConditionalGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resources_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Main interface for a regression transformer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.task">
<span class="sig-name descname"><span class="pre">task</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.task" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.search">
<span class="sig-name descname"><span class="pre">search</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Search</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.property_collator">
<span class="sig-name descname"><span class="pre">property_collator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PropertyCollator</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.property_collator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.subs_format">
<span class="sig-name descname"><span class="pre">subs_format</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.subs_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.batch_size">
<span class="sig-name descname"><span class="pre">batch_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">8</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.sampling_wrapper">
<span class="sig-name descname"><span class="pre">sampling_wrapper</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.sampling_wrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resources_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resources_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – directory where to find models and parameters.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – device where the inference is running either as a dedicated class
or a string. If not provided is inferred.</p></li>
<li><p><strong>tolerance</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]) – percentage of tolerated deviation between desired and obtained property.
Either a single float or a dictionary of floats, where the keys are the properties.
Note that the tolerance is <em>only</em> used for post-hoc filtering of the generated molecules.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.device">
<span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">device</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.device" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.load_model">
<span class="sig-name descname"><span class="pre">load_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resources_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.load_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.load_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Loading a XLNetLMHeadModel which constitutes the base of a RT model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resources_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – path to the model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>base of a Regression Transformer model.
XLNetConfig: configuration of the model.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>XLNetLMHeadModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.load_inference">
<span class="sig-name descname"><span class="pre">load_inference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resources_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.load_inference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.load_inference" title="Permalink to this definition">¶</a></dt>
<dd><p>Load and set up all parameters necessary for inference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resources_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – path to the model folder.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.denormalize">
<span class="sig-name descname"><span class="pre">denormalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.denormalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.denormalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Denormalize from the model scale to the original scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – normalized value (often in [0,1]).</p></li>
<li><p><strong>idx</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – index of the property.</p></li>
<li><p><strong>precision</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – optional rounding precision. Defaults to 4.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Value in regular scale.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize from original scale to desired scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – unnormalized input.</p></li>
<li><p><strong>idx</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – index of the property.</p></li>
<li><p><strong>precision</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – optional rounding precision.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Normalized value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_input">
<span class="sig-name descname"><span class="pre">validate_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.validate_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Sanity checking for formatting of the input string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The string to be validated.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If string was formatted incorrectly.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_input_molecule">
<span class="sig-name descname"><span class="pre">validate_input_molecule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SELFIES'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.validate_input_molecule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_input_molecule" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the non-numerical part of the input is a proper sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – input sequence to be validated.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_input_numerical">
<span class="sig-name descname"><span class="pre">validate_input_numerical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.validate_input_numerical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_input_numerical" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the numeric part of the input sequence is valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – input sequence to be validated.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.safely_determine_task">
<span class="sig-name descname"><span class="pre">safely_determine_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.safely_determine_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.safely_determine_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether the passed sequence adheres to regression or generation task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the user-provided input sequence for the model, inluding mask tokens.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – if the sequence does not adhere to the formatting rules.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the task, either ‘regression’ or ‘generation’.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.generate_batch_regression">
<span class="sig-name descname"><span class="pre">generate_batch_regression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.generate_batch_regression"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.generate_batch_regression" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the property of a sample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>context</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a string with a masked property, a separator and an
entity. E.g. &lt;stab&gt;[MASK][MASK][MASK][MASK]|GSQEVNSGTQTYKNASPEEAERIARKAGATTWTEKGNKWEIRI.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>a list of (denormalized) predicted properties for the entity.</dt><dd><p>Stored as a Sequence (str), e.g., ‘&lt;qed&gt;0.727’.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Sequence]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.compile_regression_result">
<span class="sig-name descname"><span class="pre">compile_regression_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prediction</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.compile_regression_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.compile_regression_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Postprocesses the prediction from the property task to obtain a float.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_ids</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – 2D Tensor of shape (batch_size, sequence_length).</p></li>
<li><p><strong>prediction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – 2D Tensor of shape (batch_size, sequence_length).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>list of property sequences (one per sample). Can contain</dt><dd><p>multiple properties but have to be hashable, therefore we use Sequences,
e.g., ‘&lt;qed&gt;0.727’ or ‘&lt;logp&gt;6.65&lt;scscore&gt;3.82’.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Sequence]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.generate_batch_generation">
<span class="sig-name descname"><span class="pre">generate_batch_generation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.generate_batch_generation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.generate_batch_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Conditionally generate sequences given a continuous property value and a fixed
sequence. This function first conditionally generates the novel sequences and
then predicts their properties using the RT again. Only if the predicted
property is within the tolerance range, the novel sequence is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the input sequence with masked tokens on the text.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>a tuple of tuples, each containing the generated</dt><dd><p>sequence alongside its predicted property value.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[Tuple[str, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.normalize_sequence">
<span class="sig-name descname"><span class="pre">normalize_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.normalize_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.normalize_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a sequence with unnormalized property score(s) and convert it to a
sequence with a normalized score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>context</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – sequence with unnormalized property.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>sequence with normalized property.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.isfloat">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isfloat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.isfloat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.isfloat" title="Permalink to this definition">¶</a></dt>
<dd><p>Safely determine whether a string can be converted to a float</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – A string</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether it can be converted to a float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_numerical">
<span class="sig-name descname"><span class="pre">validate_numerical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequences</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.validate_numerical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_numerical" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate whether a list of sequences contains only numerical values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequences</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]) – a list of hopefully only numerical values.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple of two lists for the validated Sequences and their respective
indices.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_sampling_wrapper">
<span class="sig-name descname"><span class="pre">validate_sampling_wrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_goal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction_to_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokens_to_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">substructures_to_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">substructures_to_keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_filtering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.validate_sampling_wrapper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_sampling_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Validating whether the wrapper can be used for conditional generation of samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>context</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – A string that is used as a seed. Has to be a SMILES or a block-copoylmer
(RegressionTransformerMolecules) or AAS (RegressionTransformerProteins).</p></li>
<li><p><strong>property_goal</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]) – <p>Specifies the property conditions for the targeted generation.
The keys are the properties and have to be aligned with the
algorithm_version. For example, for the solubility model use:
{‘&lt;esol&gt;’: 1.23}
or for the logp_and_synthesizability model use:
{‘&lt;logp&gt;’: 1.23, ‘&lt;synthesizability&gt;’: 2.34}</p>
<blockquote>
<div><p>Defaults to {}, but it has to be specified.</p>
</div></blockquote>
</p></li>
<li><p><strong>fraction_to_mask</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – The fraction of tokens that can be changed. Defaults to 0.2.</p></li>
<li><p><strong>tokens_to_mask</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>) – A list of atoms (or amino acids) that can be considered for masking.
Defaults to [] meaning that all tokens can be masked. E.g., use [‘F’] to
only mask fluorine atoms.</p></li>
<li><p><strong>substructures_to_mask</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – Specifies a list of substructures that should be masked.
Given in SMILES format. This is excluded from the stochastic masking.
NOTE: The model operates on SELFIES and the matching of the substructures occurs
in SELFIES simply on a string level.</p></li>
<li><p><strong>substructures_to_keep</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – Specifies a list of substructures that should definitely be kept.
Given in SMILES format. This is excluded from the stochastic masking.
NOTE: This keeps tokens even if they are included in <cite>tokens_to_mask</cite>.
NOTE: The model operates on SELFIES and the matching of the substructures occurs
in SELFIES simply on a string level.</p></li>
<li><p><strong>text_filtering</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Generated sequences are post-hoc filtered for the presence of
<cite>substructures_to_keep</cite>. This is done with RDKit substructure matches. If the sub-
structure cant be converted to a mol object, this argument toggles whether a substructure
should be ignored from post-hoc filtering (this happens per default) or whether
filtering should occur on a pure string level.
NOTE: This does not affect the actual generation process.
Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.sample_sequence">
<span class="sig-name descname"><span class="pre">sample_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.sample_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.sample_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Assembling a RT-sequence from a seed SMILES/AAS sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>seq</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – A SMILES/AAS string used as seed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>&lt;logp&gt;1.234|&lt;synthesizability&gt;1.234|[C][C][O]</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A RT-sequence that uses SELFIES/AAS and incorporates the properties, e.g.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.get_maskable_tokens">
<span class="sig-name descname"><span class="pre">get_maskable_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens_to_mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.get_maskable_tokens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.get_maskable_tokens" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.language_encoding">
<span class="sig-name descname"><span class="pre">language_encoding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.language_encoding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.language_encoding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.filter_substructures">
<span class="sig-name descname"><span class="pre">filter_substructures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">property_successes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.filter_substructures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.filter_substructures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_substructures">
<span class="sig-name descname"><span class="pre">validate_substructures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">substructures_to_mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">substructures_to_keep</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ConditionalGenerator.validate_substructures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.validate_substructures" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the substructures that are ignored/kept for the masking when the
<cite>sampling_wrapper</cite> is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>substructures_to_mask</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – List of substructures that should be masked.</p></li>
<li><p><strong>substructures_to_keep</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – List of substructures that should be kept.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – Implemented by the child classes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'batch_size':</span> <span class="pre">&lt;class</span> <span class="pre">'int'&gt;,</span> <span class="pre">'device':</span> <span class="pre">&lt;class</span> <span class="pre">'torch.device'&gt;,</span> <span class="pre">'property_collator':</span> <span class="pre">&lt;class</span> <span class="pre">'terminator.collators.PropertyCollator'&gt;,</span> <span class="pre">'sampling_wrapper':</span> <span class="pre">typing.Dict[str,</span> <span class="pre">typing.Any],</span> <span class="pre">'search':</span> <span class="pre">&lt;class</span> <span class="pre">'terminator.search.Search'&gt;,</span> <span class="pre">'subs_format':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'task':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;}</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__annotations__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__dict__">
<span class="sig-name descname"><span class="pre">__dict__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">mappingproxy({'__module__':</span> <span class="pre">'gt4sd.algorithms.conditional_generation.regression_transformer.implementation',</span> <span class="pre">'__annotations__':</span> <span class="pre">{'device':</span> <span class="pre">&lt;class</span> <span class="pre">'torch.device'&gt;,</span> <span class="pre">'task':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'search':</span> <span class="pre">&lt;class</span> <span class="pre">'terminator.search.Search'&gt;,</span> <span class="pre">'property_collator':</span> <span class="pre">&lt;class</span> <span class="pre">'terminator.collators.PropertyCollator'&gt;,</span> <span class="pre">'subs_format':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'batch_size':</span> <span class="pre">&lt;class</span> <span class="pre">'int'&gt;,</span> <span class="pre">'sampling_wrapper':</span> <span class="pre">typing.Dict[str,</span> <span class="pre">typing.Any]},</span> <span class="pre">'__doc__':</span> <span class="pre">'Main</span> <span class="pre">interface</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">regression</span> <span class="pre">transformer.',</span> <span class="pre">'batch_size':</span> <span class="pre">8,</span> <span class="pre">'sampling_wrapper':</span> <span class="pre">{},</span> <span class="pre">'__init__':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.__init__&gt;,</span> <span class="pre">'load_model':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.load_model&gt;,</span> <span class="pre">'load_inference':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.load_inference&gt;,</span> <span class="pre">'denormalize':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.denormalize&gt;,</span> <span class="pre">'normalize':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.normalize&gt;,</span> <span class="pre">'validate_input':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.validate_input&gt;,</span> <span class="pre">'validate_input_molecule':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.validate_input_molecule&gt;,</span> <span class="pre">'validate_input_numerical':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.validate_input_numerical&gt;,</span> <span class="pre">'safely_determine_task':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.safely_determine_task&gt;,</span> <span class="pre">'generate_batch_regression':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.generate_batch_regression&gt;,</span> <span class="pre">'compile_regression_result':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.compile_regression_result&gt;,</span> <span class="pre">'generate_batch_generation':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.generate_batch_generation&gt;,</span> <span class="pre">'normalize_sequence':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.normalize_sequence&gt;,</span> <span class="pre">'isfloat':</span> <span class="pre">&lt;staticmethod(&lt;function</span> <span class="pre">ConditionalGenerator.isfloat&gt;)&gt;,</span> <span class="pre">'validate_numerical':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.validate_numerical&gt;,</span> <span class="pre">'validate_sampling_wrapper':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.validate_sampling_wrapper&gt;,</span> <span class="pre">'sample_sequence':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.sample_sequence&gt;,</span> <span class="pre">'get_maskable_tokens':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.get_maskable_tokens&gt;,</span> <span class="pre">'language_encoding':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.language_encoding&gt;,</span> <span class="pre">'filter_substructures':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.filter_substructures&gt;,</span> <span class="pre">'validate_substructures':</span> <span class="pre">&lt;function</span> <span class="pre">ConditionalGenerator.validate_substructures&gt;,</span> <span class="pre">'__dict__':</span> <span class="pre">&lt;attribute</span> <span class="pre">'__dict__'</span> <span class="pre">of</span> <span class="pre">'ConditionalGenerator'</span> <span class="pre">objects&gt;,</span> <span class="pre">'__weakref__':</span> <span class="pre">&lt;attribute</span> <span class="pre">'__weakref__'</span> <span class="pre">of</span> <span class="pre">'ConditionalGenerator'</span> <span class="pre">objects&gt;})</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__doc__">
<span class="sig-name descname"><span class="pre">__doc__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Main</span> <span class="pre">interface</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">regression</span> <span class="pre">transformer.'</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__doc__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'gt4sd.algorithms.conditional_generation.regression_transformer.implementation'</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ChemicalLanguageRT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resources_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sample'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_wrapper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator" title="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConditionalGenerator</span></code></a></p>
<p>Hybrid regression and conditional molecular generation model as implemented in
<a class="reference external" href="https://arxiv.org/abs/2202.01338">https://arxiv.org/abs/2202.01338</a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.resources_path">
<span class="sig-name descname"><span class="pre">resources_path</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.resources_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path to the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.context">
<span class="sig-name descname"><span class="pre">context</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.context" title="Permalink to this definition">¶</a></dt>
<dd><p>user-specified input text for the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.search">
<span class="sig-name descname"><span class="pre">search</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.search" title="Permalink to this definition">¶</a></dt>
<dd><p>search key to instantiate a search via terminator.search.SEARCH_FACTORY.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>terminator.search.Search</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.temperature">
<span class="sig-name descname"><span class="pre">temperature</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>the temperature parameter in case of a <cite>sample</cite> search.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.batch_size">
<span class="sig-name descname"><span class="pre">batch_size</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>the batch size for the model, applicable only to generative task.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.tolerance">
<span class="sig-name descname"><span class="pre">tolerance</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>the tolerance for the property of the generated molecules.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.subs_format">
<span class="sig-name descname"><span class="pre">subs_format</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SMILES'</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.subs_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resources_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sample'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_wrapper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the molecule generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resources_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – directory where to find models and parameters.</p></li>
<li><p><strong>context</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – user-specified input text for the model.</p></li>
<li><p><strong>search</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – search key to instantiate a search, defaults to <cite>sample</cite>.</p></li>
<li><p><strong>temperature</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – temperature for the sampling. Defaults to 1.4.</p></li>
<li><p><strong>batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – number of points sampled per call. Defaults to 8.</p></li>
<li><p><strong>tolerance</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]) – the tolerance for the property of the generated molecules.
Given in percent. Defaults to 20.</p></li>
<li><p><strong>sampling_wrapper</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]) – <p>A high-level entry point that allows specifying a seed
SMILES alongside some target conditions.
NOTE: If this is used, the <cite>target</cite> needs to be a single SMILES string.
Example: {</p>
<blockquote>
<div><p>’fraction_to_mask’: 0.5,
‘tokens_to_mask’: [],
‘property_goal’: {‘&lt;qed&gt;’: 0.85}</p>
</div></blockquote>
<p>}</p>
</p></li>
<li><p><strong>device</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – device where the inference s running either as a dedicated class
or a string. If not provided is inferred.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.validate_input_molecule">
<span class="sig-name descname"><span class="pre">validate_input_molecule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">MoleculeFormat.selfies</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT.validate_input_molecule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.validate_input_molecule" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the non-numerical part of the input sequence is a molecule.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – input sequence to be validated.</p></li>
<li><p><strong>input_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – whether the input is validated to be a SELFIES (default), SMILES or COPOLYMER.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.validate_output">
<span class="sig-name descname"><span class="pre">validate_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequences</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT.validate_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.validate_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the output of the RT model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequences</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]) – list of sequences to be validated.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><dl class="simple">
<dt>the validate items, a list of either:</dt><dd><ul>
<li><p>Chem.rdchem.Mol (generation task)</p></li>
<li><p>Sequence denoting the predicted properties (regression task)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>list of valid indexes.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A tuple of validated items</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.get_maskable_tokens">
<span class="sig-name descname"><span class="pre">get_maskable_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens_to_mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT.get_maskable_tokens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.get_maskable_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a user-defined list of maskable tokens into a RT model-friendly format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tokens_to_mask</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – List of atoms specified in SMILES notation.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of atoms in SELFIES notation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.language_encoding">
<span class="sig-name descname"><span class="pre">language_encoding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT.language_encoding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.language_encoding" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.filter_substructures">
<span class="sig-name descname"><span class="pre">filter_substructures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">property_successes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ChemicalLanguageRT.filter_substructures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.filter_substructures" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove samples where user-required substructures are absent from generated samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>property_successes</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – A tuple of samples that passed the property constraints.
This is a tuple of tuples, where the first element is the SMILES and the
second is the property prediction string.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple of samples that passed the property constraints and the substructure constraints.
Same format as input</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'batch_size':</span> <span class="pre">'int',</span> <span class="pre">'device':</span> <span class="pre">'torch.device',</span> <span class="pre">'property_collator':</span> <span class="pre">'PropertyCollator',</span> <span class="pre">'sampling_wrapper':</span> <span class="pre">'Dict[str,</span> <span class="pre">Any]',</span> <span class="pre">'search':</span> <span class="pre">'Search',</span> <span class="pre">'subs_format':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'task':</span> <span class="pre">'str'}</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__annotations__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__doc__">
<span class="sig-name descname"><span class="pre">__doc__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\n</span>&#160;&#160;&#160; <span class="pre">Hybrid</span> <span class="pre">regression</span> <span class="pre">and</span> <span class="pre">conditional</span> <span class="pre">molecular</span> <span class="pre">generation</span> <span class="pre">model</span> <span class="pre">as</span> <span class="pre">implemented</span> <span class="pre">in\n</span>&#160;&#160;&#160; <span class="pre">https://arxiv.org/abs/2202.01338.\n\n</span>&#160;&#160;&#160; <span class="pre">Attributes:\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">resources_path:</span> <span class="pre">path</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">model.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">context:</span> <span class="pre">user-specified</span> <span class="pre">input</span> <span class="pre">text</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">model.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">search:</span> <span class="pre">search</span> <span class="pre">key</span> <span class="pre">to</span> <span class="pre">instantiate</span> <span class="pre">a</span> <span class="pre">search</span> <span class="pre">via</span> <span class="pre">terminator.search.SEARCH_FACTORY.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">temperature:</span> <span class="pre">the</span> <span class="pre">temperature</span> <span class="pre">parameter</span> <span class="pre">in</span> <span class="pre">case</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">`sample`</span> <span class="pre">search.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">batch_size:</span> <span class="pre">the</span> <span class="pre">batch</span> <span class="pre">size</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">model,</span> <span class="pre">applicable</span> <span class="pre">only</span> <span class="pre">to</span> <span class="pre">generative</span> <span class="pre">task.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">tolerance:</span> <span class="pre">the</span> <span class="pre">tolerance</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">property</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">generated</span> <span class="pre">molecules.\n</span>&#160;&#160;&#160; <span class="pre">'</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__doc__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'gt4sd.algorithms.conditional_generation.regression_transformer.implementation'</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ChemicalLanguageRT.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ProteinLanguageRT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resources_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sample'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_wrapper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator" title="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ConditionalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConditionalGenerator</span></code></a></p>
<p>Hybrid regression and conditional protein generation model as implemented in
<a class="reference external" href="https://arxiv.org/abs/2202.01338">https://arxiv.org/abs/2202.01338</a>. It generates peptides with a desired stability
score or predicts the stability score of a given molecule.
For details on the stability task see: <a class="reference external" href="https://doi.org/10.1126/science.aan0693">https://doi.org/10.1126/science.aan0693</a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.resources_path">
<span class="sig-name descname"><span class="pre">resources_path</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.resources_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path to the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.context">
<span class="sig-name descname"><span class="pre">context</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.context" title="Permalink to this definition">¶</a></dt>
<dd><p>user-specified input text for the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.search">
<span class="sig-name descname"><span class="pre">search</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.search" title="Permalink to this definition">¶</a></dt>
<dd><p>search key to instantiate a search via terminator.search.SEARCH_FACTORY.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>terminator.search.Search</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.temperature">
<span class="sig-name descname"><span class="pre">temperature</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>the temperature parameter in case of a <cite>sample</cite> search.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.batch_size">
<span class="sig-name descname"><span class="pre">batch_size</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>the batch size for the model, applicable only to generative task.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.tolerance">
<span class="sig-name descname"><span class="pre">tolerance</span></span><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>the tolerance for the property of the generated molecules.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.subs_format">
<span class="sig-name descname"><span class="pre">subs_format</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AAS'</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.subs_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resources_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sample'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_wrapper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the protein generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resources_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – directory where to find models and parameters.</p></li>
<li><p><strong>search</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – search key to instantiate a search, defaults to <cite>sample</cite>.</p></li>
<li><p><strong>temperature</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – temperature for the sampling. Defaults to 1.4.</p></li>
<li><p><strong>batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – number of points sampled per call. Defaults to 8.</p></li>
<li><p><strong>tolerance</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]) – the tolerance for the property of the generated molecules.
Given in percent. Defaults to 20.0.</p></li>
<li><p><strong>sampling_wrapper</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]) – <p>A high-level entry point that allows specifying a seed
SMILES alongside some target conditions.
NOTE: If this is used, the <cite>target</cite> needs to be a single SMILES string.
Example: {</p>
<blockquote>
<div><p>’fraction_to_mask’: 0.5,
‘tokens_to_mask’: [],
‘property_goal’: {‘&lt;stab&gt;’: 0.85}</p>
</div></blockquote>
<p>}</p>
</p></li>
<li><p><strong>device</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – device where the inference s running either as a dedicated class
or a string. If not provided is inferred.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'batch_size':</span> <span class="pre">'int',</span> <span class="pre">'device':</span> <span class="pre">'torch.device',</span> <span class="pre">'property_collator':</span> <span class="pre">'PropertyCollator',</span> <span class="pre">'sampling_wrapper':</span> <span class="pre">'Dict[str,</span> <span class="pre">Any]',</span> <span class="pre">'search':</span> <span class="pre">'Search',</span> <span class="pre">'subs_format':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'task':</span> <span class="pre">'str'}</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__annotations__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__doc__">
<span class="sig-name descname"><span class="pre">__doc__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\n</span>&#160;&#160;&#160; <span class="pre">Hybrid</span> <span class="pre">regression</span> <span class="pre">and</span> <span class="pre">conditional</span> <span class="pre">protein</span> <span class="pre">generation</span> <span class="pre">model</span> <span class="pre">as</span> <span class="pre">implemented</span> <span class="pre">in\n</span>&#160;&#160;&#160; <span class="pre">https://arxiv.org/abs/2202.01338.</span> <span class="pre">It</span> <span class="pre">generates</span> <span class="pre">peptides</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">desired</span> <span class="pre">stability\n</span>&#160;&#160;&#160; <span class="pre">score</span> <span class="pre">or</span> <span class="pre">predicts</span> <span class="pre">the</span> <span class="pre">stability</span> <span class="pre">score</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">given</span> <span class="pre">molecule.\n</span>&#160;&#160;&#160; <span class="pre">For</span> <span class="pre">details</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">stability</span> <span class="pre">task</span> <span class="pre">see:</span> <span class="pre">https://doi.org/10.1126/science.aan0693\n\n</span>&#160;&#160;&#160; <span class="pre">Attributes:\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">resources_path:</span> <span class="pre">path</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">model.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">context:</span> <span class="pre">user-specified</span> <span class="pre">input</span> <span class="pre">text</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">model.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">search:</span> <span class="pre">search</span> <span class="pre">key</span> <span class="pre">to</span> <span class="pre">instantiate</span> <span class="pre">a</span> <span class="pre">search</span> <span class="pre">via</span> <span class="pre">terminator.search.SEARCH_FACTORY.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">temperature:</span> <span class="pre">the</span> <span class="pre">temperature</span> <span class="pre">parameter</span> <span class="pre">in</span> <span class="pre">case</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">`sample`</span> <span class="pre">search.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">batch_size:</span> <span class="pre">the</span> <span class="pre">batch</span> <span class="pre">size</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">model,</span> <span class="pre">applicable</span> <span class="pre">only</span> <span class="pre">to</span> <span class="pre">generative</span> <span class="pre">task.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">tolerance:</span> <span class="pre">the</span> <span class="pre">tolerance</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">property</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">generated</span> <span class="pre">molecules.\n</span>&#160;&#160;&#160; <span class="pre">'</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__doc__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'gt4sd.algorithms.conditional_generation.regression_transformer.implementation'</span></em><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.validate_input_molecule">
<span class="sig-name descname"><span class="pre">validate_input_molecule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT.validate_input_molecule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.validate_input_molecule" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the non-numerical part of the input sequence is a valid AAS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – input sequence to be validated.</p></li>
<li><p><strong>input_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – str argument that is ignored but needed for sibling class.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.validate_output">
<span class="sig-name descname"><span class="pre">validate_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequences</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT.validate_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.validate_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the output of the RT model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequences</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]) – list of sequences to be validated.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><dl class="simple">
<dt>List of validated items, either:</dt><dd><ul>
<li><p>Amino acid sequences (generation task)</p></li>
<li><p>Sequence denoting the predicted properties (regression task)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>a list of valid indexes.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A tuple of validated items</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.get_maskable_tokens">
<span class="sig-name descname"><span class="pre">get_maskable_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens_to_mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT.get_maskable_tokens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.get_maskable_tokens" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Convert a user-defined list of maskable tokens (amino acids) into a RT</dt><dd><p>model-friendly format. Nothing has to be done for proteins, but the function
is more complex for sister-classes.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tokens_to_mask</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – List of amino acids specified in IUPAC convention.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The same.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.language_encoding">
<span class="sig-name descname"><span class="pre">language_encoding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT.language_encoding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.language_encoding" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.filter_substructures">
<span class="sig-name descname"><span class="pre">filter_substructures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">property_successes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gt4sd/algorithms/conditional_generation/regression_transformer/implementation.html#ProteinLanguageRT.filter_substructures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gt4sd.algorithms.conditional_generation.regression_transformer.implementation.ProteinLanguageRT.filter_substructures" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove samples where user-required substructures are absent from generated samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>property_successes</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – A tuple of samples that passed the property constraints.
This is a tuple of tuples, where the first element is the sequence and the second the
property prediction string.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple of samples that passed the property constraints and the substructure constraints.
Same format as input</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="gt4sd.algorithms.conditional_generation.regression_transformer.utils.html" class="btn btn-neutral float-right" title="gt4sd.algorithms.conditional_generation.regression_transformer.utils module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="gt4sd.algorithms.conditional_generation.regression_transformer.core.html" class="btn btn-neutral float-left" title="gt4sd.algorithms.conditional_generation.regression_transformer.core module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright GT4SD team 2022.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>